<div class="panel panel-default">
	<div class="panel-heading">
		<span class="pull-right"><a href data-toggle="modal" data-target="#moreInfoBattalions" title="More info on Battalions"><span class="far fa-question-circle" aria-hidden="true"></span></a></span>
		Battalions
	</div>
	<table class="table">
		<tr>
			<th>#</th>
			<th>Creature</th>
			<th class="text-right">Count</th>
			<th class="text-right">Level</th>
			<th class="text-right">Weapon</th>
		</tr>
		<tr *ngFor="let b of player.battalions">
			<td>
				<div class="visible-xs visible-sm btn-group">
					<button class="btn btn-default btn-xs dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						{{b.battalion_number}} <span class="caret"></span>
					</button>
					<ul class="dropdown-menu">
						<li><a routerLink="/battalion/{{b.battalion_number}}/hire"><span class="fas fa-users"></span> Hire/Fire</a></li>
						<li *ngIf="b.creature"><a routerLink="/battalion/{{b.battalion_number}}/train"><span class="fas fa-arrow-up"></span> Train</a></li>
						<li *ngIf="b.creature"><a routerLink="/battalion/{{b.battalion_number}}/arm"><span class="fas fa-bolt"></span> Arm</a></li>
					</ul>
				</div>
				<div class="hidden-xs hidden-sm btn-group btn-group-xs" role="group">
					<a class="btn btn-default">{{b.battalion_number}}</a>
					<a class="btn btn-default" routerLink="/battalion/{{b.battalion_number}}/hire" [class.btn-primary]="!b.creature"><span class="fas fa-users"></span></a>
					<a class="btn btn-default" routerLink="/battalion/{{b.battalion_number}}/train" [class.disabled]="!b.creature"><span class="fas fa-arrow-up"></span></a>
					<a class="btn btn-default" routerLink="/battalion/{{b.battalion_number}}/arm" [class.disabled]="!b.creature"><span class="fas fa-bolt"></span></a>
				</div>
			</td>
			<!--td><span class="label label-default">{{b.battalion_number}}</span></td-->
			<td><span *ngIf="b.creature">{{b.creature.name}}</span></td>
			<td class="text-right"><span *ngIf="b.creature">{{b.count}}</span></td>
			<td class="text-right"><span *ngIf="b.creature">{{b.level}}</span></td>
			<td class="text-right"><span *ngIf="b.creature && b.weapon_material && b.weapon_base">{{b.weapon_material.name}} {{b.weapon_base.name}}</span></td>
		</tr>
	</table>
	<div class="panel-body">
		<div class="row">
			<div class="col-xs-6 text-right">
				<p>Attack</p><p>Defense</p>
			</div>
			<div class="col-xs-6">
				<span style="display: inline-block;" class="text-right">
					<b><p>{{player.calc.attack|number:'1.1-1'}}</p><p>{{player.calc.defense|number:'1.1-1'}}</p></b>
				</span>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="moreInfoBattalions" tabindex="-1" role="dialog">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title">More info on Battalions</h4>
			</div>
			<div class="modal-body">More info goes here.</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>