<!doctype html>
<html lang="en">
{% load staticfiles %}
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/tw.css' %}">
    {% block extracss %}{% endblock %}
	
	<script src="https://kit.fontawesome.com/3ef8ab7c33.js"></script>

	<title>{% block title %}Tristan's Website{% endblock title %}</title>
  </head>

<body>
	<div class="bg-light" id="loginBg"></div>
	<div class="collapse" id="toggleLogin">
		<ul>
		{% if user.is_authenticated %}
			<li>Logged in as {{ user.username }}</li>
			<li><a href="{% url 'password_change' %}">Change Password</a></li>
			<li><a href="{% url 'logout' %}?next={{request.get_full_path}}">Log Out</a></li>
		{% else %}
			<form class="form-inline" role="form" action="{% url 'login' %}" method="POST">
			{% csrf_token %}
			<input name="username" type="text" placeholder="Username" class="form-control">
			<input name="password" type="password" placeholder="Password" class="form-control">
			<input type="hidden" name="next" value="{{request.get_full_path}}">
			<button type="submit" class="btn btn-primary">Log in</button>
			</form>
		{% endif %}
		</ul>
	</div>
	
	<header>
		{% block header %}
		<nav>
			<svg viewBox="0 5 413.40 133.3" height="72" xmlns="http://www.w3.org/2000/svg">
				<a href="{% url 'home' %}" title="Home">
					<g class="tw-nav-hex" transform="translate(0,0)">
						<circle cx="50" cy="50" r="50"/>
						<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
						<g class="tw-nav-hex-icon">
							<path d="M 50 36 l 17 17 v 17 h -34 v -17 Z"/>
							<path d="M 27 52 l 23 -25 l 23 25"/>
						</g>
					</g>
				</a>
				
				<a href="#blog" title="Blog">
					<g class="tw-nav-hex" transform="translate(78.34936,43.30127)">
						<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
						<g class="tw-nav-hex-icon" transform="translate(25,25)">
							<path d="M 13.18359 16.11328 h 29.29688"/>
							<path d="M 30.76172 21.97266 h 11.71875"/>
							<path d="M 30.76172 27.83203 h 11.71875"/>
							<path d="M 30.76172 33.69141 h 11.71875"/>
							<path d="M 13.18359 21.97266 h 11.71875 v 11.71875 h -11.71875 Z"/>
							<path d="M 0.78125 11.91406 v 27.53906
								c 0 1.95313 1.95313 2.92969 2.92969 2.92969
								c 1.95313 0 2.92969 -0.97656 2.92969 -2.92969
								v -31.93359 h 42.38281 v 31.93359
								c 0 1.95313 -0.97656 2.92969 -2.92969 2.92969
								h -42.38281"/>
						</g>
					</g>
				</a>
				
				<a href="#about" title="About">
					<g class="tw-nav-hex" transform="translate(156.69873,0)">
						<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
						<!--image x="25" y="25" height="50" width="50" xlink:href="{% static 'img/nav_about.svg' %}"/-->
						<g class="tw-nav-hex-icon" transform="translate(25,25)">
							<circle cx="25" cy="25" r="23.92578"/>
							<path d="M 9.76563 26.36719 a 10.74219 9.76563 0 0 0 30.46875 0 Z"/>
							<circle class="tw-nav-hex-icon-fill" cx="17.57813" cy="17.57813" r="1"/>
							<circle class="tw-nav-hex-icon-fill" cx="32.42188" cy="17.57813" r="1"/>
						</g>
					</g>
				</a>
				
				{% if user.is_staff %}
				<a href="{% url 'admin:index' %}" title="Admin">
					<g class="tw-nav-hex" transform="translate(235.04809, 43.30127)">
						<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
						<image x="25" y="25" height="50" width="50" xlink:href="{% static 'img/nav_gear.svg' %}"/>
					</g>
				</a>
				{% else %}
				<g class="tw-nav-hex" transform="translate(235.04809, 43.30127)">
					<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
				</g>
				{% endif %}
				
				<a href="#" title="Login" data-toggle="collapse" data-target="#toggleLogin" aria-controls="toggleLogin" aria-expanded="false" aria-label="Toggle login">
					<g class="tw-nav-hex" transform="translate(313.39746,0)">
						<path class="tw-nav-hex-ol" d="M5.00000,50.00000 l19.48557,-38.97114 l51.02886,0.00000 l19.48557,38.97114 l-19.48557,38.97114 l-51.02886,0.00000 Z"/>
						<image x="25" y="25" height="50" width="50" xlink:href="{% if user.is_authenticated %}{% static 'img/nav_loggedin.svg' %}{% else %}{% static 'img/nav_loggedout.svg' %}{% endif %}"/>
					</g>
				</a>
			</svg>
		</nav>
		{% endblock header %}
	</header>
		
	<main class="{% block mainclass %}{% endblock mainclass %}">{% block content %}{% endblock content%}</main>
		
	<footer>
		{% block footer %}
		<div class="text-muted">&copy; 2015-{% now "Y" %} Tristan Wagner</div>
		{% endblock footer %}
	</footer>
	
	<div>
		{% block belowcontainer %}{% endblock belowcontainer %}

		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

		<script>
		$(document).ready(function(){
			$('[data-toggle="popover"]').popover(); 
			});
		</script>
		{% block script %}
		{% endblock %}
		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-12674853-1', 'auto');
		  ga('send', 'pageview');

		</script>
	</div>
  </body>
</html>
